# Итоговый проект: Планировщик задач

## Описание проекта
Этот проект — веб-приложение для планирования и отслеживания задач с поддержкой гибких правил повторения (ежедневно, ежегодно, по дням недели, по дням месяца). Бэкенд написан на Go, фронтенд находится в папке `web`. Проект поддерживает аутентификацию по паролю и JWT-токену, все основные функции доступны через REST API.

## Задания со звёздочкой
Задания повышенной трудности выполнены в полном объёме.

## Инструкция по запуску локально
1. Установите Go 1.24 или новее.
2. Клонируйте репозиторий и перейдите в папку проекта.
3. Задайте переменные окружения или создайте файл `.env` со следующим содержимым:
   ```
   TODO_PASSWORD=ваш_пароль
   TODO_SECRET=ваш_секрет
   TODO_PORT=ваш_порт
   TODO_DBFILE=ваш_путь_к_scheduler.db
   ```
4. Запустите сервер:
   ```
   go run main.go
   ```
5. Откройте в браузере: [http://localhost:7540](http://localhost:7540)

## Инструкция по запуску тестов
1. Получите валидный токен, отправив POST-запрос на `/api/signin` с паролем из переменной окружения:
   ```
   curl -X POST http://localhost:7540/api/signin -H "Content-Type: application/json" -d "{\"password\":\"ваш_пароль_из_.env\"}"
   ```
2. Скопируйте токен из ответа и вставьте его в переменную `Token` в файле `tests/settings.go`:
   ```go
   var Token = `ваш_токен`
   ```
3. Запустите тесты:
   ```
   go test ./tests
   ```

## Инструкция по сборке и запуску через Docker
1. (Опционально) Соберите Docker-образ локально:
   ```
   docker build -t go-final-project .
   ```
2. Запустите контейнер с использованием готового образа с Docker Hub:
   ```
   docker run -d --name имя_для_вашего_контейнера -e TODO_PASSWORD=ваш_пароль -e TODO_SECRET=ваш_секрет -e TODO_PORT=7540 -e TODO_DBFILE=/app/scheduler.db -p 7540:7540 -v $(pwd)/scheduler.db:/app/scheduler.db molodoyjossa/go-final-project:latest
   ```
   Для Windows CMD путь укажите абсолютный, а для Windows PowerShell путь к базе укажите так:
   ```
   -v ${PWD}/scheduler.db:/app/scheduler.db
   ```


3. Откройте в браузере: [http://localhost:7540](http://localhost:7540)

---

- В папке `tests` находятся тесты для проверки API.
- В папке `web` — файлы фронтенда.
- Dockerfile предоставлен для удобного развёртывания и проверки.
